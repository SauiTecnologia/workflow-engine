# ============================================
# DATABASE CONFIGURATION - LOCAL POSTGRESQL
# ============================================
quarkus.datasource.db-kind=${DB_KIND:postgresql}
quarkus.datasource.jdbc.url=${DB_JDBC_URL:jdbc:postgresql://localhost:5432/workflow}
quarkus.datasource.username=${DB_USERNAME:workflow_user}
quarkus.datasource.password=${DB_PASSWORD:workflow_pass}

# ============================================
# HIBERNATE ORM (SOLUÇÃO CRÍTICA)
# ============================================
# 1. Especifique APENAS o pacote da entidade REAL
quarkus.hibernate-orm.packages=com.apporte.entity

# 2. Desative varredura automática de outras classes
quarkus.hibernate-orm.unsupported-properties.exclude=true

# 3. Desative mapeamento automático de JSON
quarkus.hibernate-orm.mapping.format.global=ignore
quarkus.hibernate-orm.mapping.format-json=false

# 4. Configure geração de schema
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=true

# ============================================
# JACKSON CONFIGURATION (para as classes de model)
# ============================================
quarkus.jackson.write-dates-as-timestamps=false
quarkus.jackson.fail-on-unknown-properties=false
quarkus.jackson.serialization-inclusion=non_null

# ============================================
# HTTP SERVER
# ============================================
quarkus.http.port=8081

# ============================================
# LOGGING
# ============================================
quarkus.log.level=DEBUG